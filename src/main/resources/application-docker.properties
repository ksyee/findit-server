# Docker profile used for container deployments (e.g., AWS EC2)
server.port=${SERVER_PORT:8080}

# Database connection values are expected to be injected via environment variables
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Runtime defaults
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false

# Flyway
spring.flyway.locations=classpath:db/migration
spring.flyway.clean-disabled=true

# External API is disabled by default (set POLICE_API_ENABLED=true to enable)
police.api.enabled=${POLICE_API_ENABLED:false}

# API security settings
security.api.enabled=${API_SECURITY_ENABLED:true}
security.api.header-name=${API_SECURITY_HEADER_NAME:X-API-KEY}
security.api.key=${API_SECURITY_KEY}

# Disable SQL initialization; Flyway manages schema changes
spring.sql.init.mode=never
